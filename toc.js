// Populate the sidebar
//
// This is a script, and not included directly in the page, to control the total size of the book.
// The TOC contains an entry for each page, so if each page includes a copy of the TOC,
// the total size of the page becomes O(n**2).
class MDBookSidebarScrollbox extends HTMLElement {
    constructor() {
        super();
    }
    connectedCallback() {
        this.innerHTML = '<ol class="chapter"><li class="chapter-item affix "><a href="index.html">Introduction</a></li><li class="chapter-item "><div><strong aria-hidden="true">1.</strong> System Changes</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="system/engine.html"><strong aria-hidden="true">1.1.</strong> Engine Changes</a></li><li class="chapter-item "><a href="system/mechanics.html"><strong aria-hidden="true">1.2.</strong> New Mechanics</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">2.</strong> Stage Changes</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="stages.html"><strong aria-hidden="true">2.1.</strong> Stages</a></li><li class="chapter-item "><a href="stages/stage_list.html"><strong aria-hidden="true">2.2.</strong> Intended Stage List</a></li></ol></li><li class="chapter-item "><a href="characters/legend.html"><strong aria-hidden="true">3.</strong> Character Changes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div><strong aria-hidden="true">3.1.</strong> Smash 64 Characters</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="characters/64/mario.html"><strong aria-hidden="true">3.1.1.</strong> Mario</a></li><li class="chapter-item "><a href="characters/64/donkey.html"><strong aria-hidden="true">3.1.2.</strong> Donkey Kong</a></li><li class="chapter-item "><a href="characters/64/link.html"><strong aria-hidden="true">3.1.3.</strong> Link</a></li><li class="chapter-item "><a href="characters/64/samus.html"><strong aria-hidden="true">3.1.4.</strong> Samus</a></li><li class="chapter-item "><a href="characters/64/samusd.html"><strong aria-hidden="true">3.1.5.</strong> Dark Samus</a></li><li class="chapter-item "><a href="characters/64/yoshi.html"><strong aria-hidden="true">3.1.6.</strong> Yoshi</a></li><li class="chapter-item "><a href="characters/64/kirby.html"><strong aria-hidden="true">3.1.7.</strong> Kirby</a></li><li class="chapter-item "><a href="characters/64/fox.html"><strong aria-hidden="true">3.1.8.</strong> Fox</a></li><li class="chapter-item "><a href="characters/64/pikachu.html"><strong aria-hidden="true">3.1.9.</strong> Pikachu</a></li><li class="chapter-item "><a href="characters/64/luigi.html"><strong aria-hidden="true">3.1.10.</strong> Luigi</a></li><li class="chapter-item "><a href="characters/64/ness.html"><strong aria-hidden="true">3.1.11.</strong> Ness</a></li><li class="chapter-item "><a href="characters/64/captain.html"><strong aria-hidden="true">3.1.12.</strong> Captain Falcon</a></li><li class="chapter-item "><a href="characters/64/purin.html"><strong aria-hidden="true">3.1.13.</strong> Jigglypuff</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.2.</strong> Melee Characters</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="characters/melee/peach.html"><strong aria-hidden="true">3.2.1.</strong> Peach</a></li><li class="chapter-item "><a href="characters/melee/daisy.html"><strong aria-hidden="true">3.2.2.</strong> Daisy</a></li><li class="chapter-item "><a href="characters/melee/koopa.html"><strong aria-hidden="true">3.2.3.</strong> Bowser</a></li><li class="chapter-item "><a href="characters/melee/iceclimbers.html"><strong aria-hidden="true">3.2.4.</strong> Ice Climbers</a></li><li class="chapter-item "><a href="characters/melee/sheik.html"><strong aria-hidden="true">3.2.5.</strong> Sheik</a></li><li class="chapter-item "><a href="characters/melee/zelda.html"><strong aria-hidden="true">3.2.6.</strong> Zelda</a></li><li class="chapter-item "><a href="characters/melee/mariod.html"><strong aria-hidden="true">3.2.7.</strong> Dr. Mario</a></li><li class="chapter-item "><a href="characters/melee/pichu.html"><strong aria-hidden="true">3.2.8.</strong> Pichu</a></li><li class="chapter-item "><a href="characters/melee/falco.html"><strong aria-hidden="true">3.2.9.</strong> Falco</a></li><li class="chapter-item "><a href="characters/melee/marth.html"><strong aria-hidden="true">3.2.10.</strong> Marth</a></li><li class="chapter-item "><a href="characters/melee/lucina.html"><strong aria-hidden="true">3.2.11.</strong> Lucina</a></li><li class="chapter-item "><a href="characters/melee/younglink.html"><strong aria-hidden="true">3.2.12.</strong> Young Link</a></li><li class="chapter-item "><a href="characters/melee/ganondorf.html"><strong aria-hidden="true">3.2.13.</strong> Ganondorf</a></li><li class="chapter-item "><a href="characters/melee/mewtwo.html"><strong aria-hidden="true">3.2.14.</strong> Mewtwo</a></li><li class="chapter-item "><a href="characters/melee/roy.html"><strong aria-hidden="true">3.2.15.</strong> Roy</a></li><li class="chapter-item "><a href="characters/melee/chrom.html"><strong aria-hidden="true">3.2.16.</strong> Chrom</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.3.</strong> Brawl Characters</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="characters/brawl/metaknight.html"><strong aria-hidden="true">3.3.1.</strong> Meta Knight</a></li><li class="chapter-item "><a href="characters/brawl/pit.html"><strong aria-hidden="true">3.3.2.</strong> Pit</a></li><li class="chapter-item "><a href="characters/brawl/pitb.html"><strong aria-hidden="true">3.3.3.</strong> Dark Pit</a></li><li class="chapter-item "><a href="characters/brawl/szerosuit.html"><strong aria-hidden="true">3.3.4.</strong> Zero Suit Samus</a></li><li class="chapter-item "><a href="characters/brawl/wario.html"><strong aria-hidden="true">3.3.5.</strong> Wario</a></li><li class="chapter-item "><a href="characters/brawl/snake.html"><strong aria-hidden="true">3.3.6.</strong> Snake</a></li><li class="chapter-item "><a href="characters/brawl/ike.html"><strong aria-hidden="true">3.3.7.</strong> Ike</a></li><li class="chapter-item "><a href="characters/brawl/ptrainer.html"><strong aria-hidden="true">3.3.8.</strong> Pokémon Trainer</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="characters/brawl/pzenigame.html"><strong aria-hidden="true">3.3.8.1.</strong> Squirtle</a></li><li class="chapter-item "><a href="characters/brawl/pfushigisou.html"><strong aria-hidden="true">3.3.8.2.</strong> Ivysaur</a></li><li class="chapter-item "><a href="characters/brawl/plizardon.html"><strong aria-hidden="true">3.3.8.3.</strong> Charizard</a></li></ol></li><li class="chapter-item "><a href="characters/brawl/diddy.html"><strong aria-hidden="true">3.3.9.</strong> Diddy Kong</a></li><li class="chapter-item "><a href="characters/brawl/lucas.html"><strong aria-hidden="true">3.3.10.</strong> Lucas</a></li><li class="chapter-item "><a href="characters/brawl/sonic.html"><strong aria-hidden="true">3.3.11.</strong> Sonic</a></li><li class="chapter-item "><a href="characters/brawl/dedede.html"><strong aria-hidden="true">3.3.12.</strong> King Dedede</a></li><li class="chapter-item "><a href="characters/brawl/pikmin.html"><strong aria-hidden="true">3.3.13.</strong> Olimar</a></li><li class="chapter-item "><a href="characters/brawl/lucario.html"><strong aria-hidden="true">3.3.14.</strong> Lucario</a></li><li class="chapter-item "><a href="characters/brawl/robot.html"><strong aria-hidden="true">3.3.15.</strong> R.O.B.</a></li><li class="chapter-item "><a href="characters/brawl/toonlink.html"><strong aria-hidden="true">3.3.16.</strong> Toon Link</a></li><li class="chapter-item "><a href="characters/brawl/wolf.html"><strong aria-hidden="true">3.3.17.</strong> Wolf</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.</strong> Smash 4 Characters</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="characters/smash4/villager.html"><strong aria-hidden="true">3.4.1.</strong> Villager</a></li><li class="chapter-item "><a href="characters/smash4/rockman.html"><strong aria-hidden="true">3.4.2.</strong> Mega Man</a></li><li class="chapter-item "><a href="characters/smash4/wiifit.html"><strong aria-hidden="true">3.4.3.</strong> Wii Fit Trainer</a></li><li class="chapter-item "><a href="characters/smash4/rosetta.html"><strong aria-hidden="true">3.4.4.</strong> Rosalina &amp; Luma</a></li><li class="chapter-item "><a href="characters/smash4/littlemac.html"><strong aria-hidden="true">3.4.5.</strong> Little Mac</a></li><li class="chapter-item "><a href="characters/smash4/greninja.html"><strong aria-hidden="true">3.4.6.</strong> Greninja</a></li><li class="chapter-item "><a href="characters/smash4/miifighter.html"><strong aria-hidden="true">3.4.7.</strong> Mii Fighter</a></li><li class="chapter-item "><a href="characters/smash4/miiswordsman.html"><strong aria-hidden="true">3.4.8.</strong> Mii Swordfighter</a></li><li class="chapter-item "><a href="characters/smash4/miigunner.html"><strong aria-hidden="true">3.4.9.</strong> Mii Gunner</a></li><li class="chapter-item "><a href="characters/smash4/palutena.html"><strong aria-hidden="true">3.4.10.</strong> Palutena</a></li><li class="chapter-item "><a href="characters/smash4/pacman.html"><strong aria-hidden="true">3.4.11.</strong> PAC-MAN</a></li><li class="chapter-item "><a href="characters/smash4/reflet.html"><strong aria-hidden="true">3.4.12.</strong> Robin</a></li><li class="chapter-item "><a href="characters/smash4/shulk.html"><strong aria-hidden="true">3.4.13.</strong> Shulk</a></li><li class="chapter-item "><a href="characters/smash4/koopajr.html"><strong aria-hidden="true">3.4.14.</strong> Bowser Jr.</a></li><li class="chapter-item "><a href="characters/smash4/duckhunt.html"><strong aria-hidden="true">3.4.15.</strong> Duck Hunt</a></li><li class="chapter-item "><a href="characters/smash4/ryu.html"><strong aria-hidden="true">3.4.16.</strong> Ryu</a></li><li class="chapter-item "><a href="characters/smash4/ken.html"><strong aria-hidden="true">3.4.17.</strong> Ken</a></li><li class="chapter-item "><a href="characters/smash4/cloud.html"><strong aria-hidden="true">3.4.18.</strong> Cloud</a></li><li class="chapter-item "><a href="characters/smash4/kamui.html"><strong aria-hidden="true">3.4.19.</strong> Corrin</a></li><li class="chapter-item "><a href="characters/smash4/bayonetta.html"><strong aria-hidden="true">3.4.20.</strong> Bayonetta</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.5.</strong> Ultimate Characters</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="characters/ultimate/inkling.html"><strong aria-hidden="true">3.5.1.</strong> Inkling</a></li><li class="chapter-item "><a href="characters/ultimate/ridley.html"><strong aria-hidden="true">3.5.2.</strong> Ridley</a></li><li class="chapter-item "><a href="characters/ultimate/simon.html"><strong aria-hidden="true">3.5.3.</strong> Simon</a></li><li class="chapter-item "><a href="characters/ultimate/richter.html"><strong aria-hidden="true">3.5.4.</strong> Richter</a></li><li class="chapter-item "><a href="characters/ultimate/krool.html"><strong aria-hidden="true">3.5.5.</strong> King K. Rool</a></li><li class="chapter-item "><a href="characters/ultimate/shizue.html"><strong aria-hidden="true">3.5.6.</strong> Isabelle</a></li><li class="chapter-item "><a href="characters/ultimate/gaogaen.html"><strong aria-hidden="true">3.5.7.</strong> Incineroar</a></li><li class="chapter-item "><a href="characters/ultimate/packun.html"><strong aria-hidden="true">3.5.8.</strong> Piranha Plant</a></li><li class="chapter-item "><a href="characters/ultimate/jack.html"><strong aria-hidden="true">3.5.9.</strong> Joker</a></li><li class="chapter-item "><a href="characters/ultimate/brave.html"><strong aria-hidden="true">3.5.10.</strong> Hero</a></li><li class="chapter-item "><a href="characters/ultimate/buddy.html"><strong aria-hidden="true">3.5.11.</strong> Banjo &amp; Kazooie</a></li><li class="chapter-item "><a href="characters/ultimate/dolly.html"><strong aria-hidden="true">3.5.12.</strong> Terry</a></li><li class="chapter-item "><a href="characters/ultimate/master.html"><strong aria-hidden="true">3.5.13.</strong> Byleth</a></li><li class="chapter-item "><a href="characters/ultimate/tantan.html"><strong aria-hidden="true">3.5.14.</strong> Min Min</a></li><li class="chapter-item "><a href="characters/ultimate/pickel.html"><strong aria-hidden="true">3.5.15.</strong> Steve</a></li><li class="chapter-item "><a href="characters/ultimate/edge.html"><strong aria-hidden="true">3.5.16.</strong> Sephiroth</a></li><li class="chapter-item "><a href="characters/ultimate/element.html"><strong aria-hidden="true">3.5.17.</strong> Pyra/Mythra</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="characters/ultimate/eflame.html"><strong aria-hidden="true">3.5.17.1.</strong> Pyra</a></li><li class="chapter-item "><a href="characters/ultimate/elight.html"><strong aria-hidden="true">3.5.17.2.</strong> Mythra</a></li></ol></li><li class="chapter-item "><a href="characters/ultimate/demon.html"><strong aria-hidden="true">3.5.18.</strong> Kazuya</a></li><li class="chapter-item "><a href="characters/ultimate/trail.html"><strong aria-hidden="true">3.5.19.</strong> Sora</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.6.</strong> WuBor Characters</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="characters/wubor/narukami.html"><strong aria-hidden="true">3.6.1.</strong> Yu Narukami</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.</strong> Item Changes</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="items/items.html"><strong aria-hidden="true">4.1.</strong> Items</a></li></ol></li></ol>';
        // Set the current, active page, and reveal it if it's hidden
        let current_page = document.location.href.toString().split("#")[0].split("?")[0];
        if (current_page.endsWith("/")) {
            current_page += "index.html";
        }
        var links = Array.prototype.slice.call(this.querySelectorAll("a"));
        var l = links.length;
        for (var i = 0; i < l; ++i) {
            var link = links[i];
            var href = link.getAttribute("href");
            if (href && !href.startsWith("#") && !/^(?:[a-z+]+:)?\/\//.test(href)) {
                link.href = path_to_root + href;
            }
            // The "index" page is supposed to alias the first chapter in the book.
            if (link.href === current_page || (i === 0 && path_to_root === "" && current_page.endsWith("/index.html"))) {
                link.classList.add("active");
                var parent = link.parentElement;
                if (parent && parent.classList.contains("chapter-item")) {
                    parent.classList.add("expanded");
                }
                while (parent) {
                    if (parent.tagName === "LI" && parent.previousElementSibling) {
                        if (parent.previousElementSibling.classList.contains("chapter-item")) {
                            parent.previousElementSibling.classList.add("expanded");
                        }
                    }
                    parent = parent.parentElement;
                }
            }
        }
        // Track and set sidebar scroll position
        this.addEventListener('click', function(e) {
            if (e.target.tagName === 'A') {
                sessionStorage.setItem('sidebar-scroll', this.scrollTop);
            }
        }, { passive: true });
        var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
        sessionStorage.removeItem('sidebar-scroll');
        if (sidebarScrollTop) {
            // preserve sidebar scroll position when navigating via links within sidebar
            this.scrollTop = sidebarScrollTop;
        } else {
            // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
            var activeSection = document.querySelector('#sidebar .active');
            if (activeSection) {
                activeSection.scrollIntoView({ block: 'center' });
            }
        }
        // Toggle buttons
        var sidebarAnchorToggles = document.querySelectorAll('#sidebar a.toggle');
        function toggleSection(ev) {
            ev.currentTarget.parentElement.classList.toggle('expanded');
        }
        Array.from(sidebarAnchorToggles).forEach(function (el) {
            el.addEventListener('click', toggleSection);
        });
    }
}
window.customElements.define("mdbook-sidebar-scrollbox", MDBookSidebarScrollbox);
